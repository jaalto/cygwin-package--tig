From 75b845ff1e5fe991bad3ff39bdd639bff623e759 Mon Sep 17 00:00:00 2001
From: Jari Aalto <jari.aalto@cante.net>
Date: Sat, 31 Jan 2009 21:04:54 +0200
Subject: [PATCH] Makefile: Cygwin compile

Signed-off-by: Jari Aalto <jari.aalto@cante.net>
---
 Makefile |    6 +++++-
 1 files changed, 5 insertions(+), 1 deletions(-)

diff --git a/Makefile b/Makefile
index 1107f95..8511bcb 100644
--- a/Makefile
+++ b/Makefile
@@ -32,7 +32,11 @@ RPM_VERLIST = $(filter-out g% dirty,$(subst -, ,$(VERSION))) 0
 RPM_VERSION = $(word 1,$(RPM_VERLIST))
 RPM_RELEASE = $(word 2,$(RPM_VERLIST))$(if $(WTDIRTY),.dirty)
 
-LDLIBS ?= -lcurses
+ifeq (yes,$(shell uname -a | grep -i cygwin && echo yes))
+CYGWIN_LIBS = -liconv
+endif
+
+LDLIBS ?= -lcurses $(CYGWIN_LIBS)
 CFLAGS ?= -Wall -O2
 DFLAGS	= -g -DDEBUG -Werror
 PROGS	= tig
-- 
1.6.0.4

